
{% load static humanize %} 
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>G·ª£i √Ω s√°ch cho b·∫°n</title>

    <!-- CSS chung -->
    <link rel="stylesheet" href="{% static 'base/header.css' %}">
    <link rel="stylesheet" href="{% static 'base/footer.css' %}">

    <!-- CSS ri√™ng -->
    <link rel="stylesheet" href="{% static 'book/recommend_user.css' %}">
</head>

<body>

<!-- HEADER -->
{% include "base/header.html" %}

<main class="main-content">

    <!-- HERO -->
    <section class="hero">
        <div class="hero-container">
            <h1>G·ª£i √Ω d√†nh ri√™ng cho b·∫°n</h1>
            <p>AI ph√¢n t√≠ch h√†nh vi ƒë·ªÉ ƒë·ªÅ xu·∫•t s√°ch ph√π h·ª£p nh·∫•t</p>
        </div>
    </section>

    <!-- CONTENT -->
    <section class="content">
        <div class="container">

            {% if message %}
                <div class="alert">{{ message }}</div>
            {% endif %}

            {% if suggestions %}
                <div class="book-grid">
                    {% for book in suggestions %}
                        <div class="book-card"
                             onclick="location.href='{% url 'book:book_detail' book.pk %}'">

                            <div class="book-image">
                                {% if book.images.first %}
                                    <img src="{{ book.images.first.image }}" alt="{{ book.title }}">
                                {% else %}
                                    <img src="{% static 'images/no-book.png' %}" alt="No image">
                                {% endif %}
                            </div>

                            <div class="book-info">
                                <h3>{{ book.title }}</h3>

                                {% if book.author %}
                                    <p class="author">{{ book.author.name }}</p>
                                {% endif %}

                                <p class="price">
                                    {{ book.get_display_price_formatted }} ƒë
                                </p>

                                <p class="rating">
                                    ‚≠ê {{ book.average_rating|default:"Ch∆∞a c√≥" }}
                                </p>
                            </div>

                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p class="empty">Ch∆∞a c√≥ g·ª£i √Ω ph√π h·ª£p üìö</p>
            {% endif %}

        </div>
    </section>

</main>

<!-- FOOTER -->
{% include "base/footer.html" %}

</body>
</html>
