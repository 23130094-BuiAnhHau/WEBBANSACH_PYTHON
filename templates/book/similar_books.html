{% load static humanize %} 
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>S√°ch t∆∞∆°ng t·ª±</title>

    <!-- CSS chung -->
    <link rel="stylesheet" href="{% static 'base/header.css' %}">
    <link rel="stylesheet" href="{% static 'base/footer.css' %}">

    <!-- CSS ri√™ng -->
    <link rel="stylesheet" href="{% static 'book/similar_books.css' %}">
</head>

<body>

<!-- HEADER -->
{% include "base/header.html" %}

<main class="main-content">

    <!-- HERO -->
    <section class="hero small">
        <div class="hero-container">
            <h1>üìö S√°ch t∆∞∆°ng t·ª±</h1>
            <p>D·ª±a tr√™n t√°c gi·∫£ v√† th·ªÉ lo·∫°i</p>
        </div>
    </section>

    <!-- CONTENT -->
    <section class="content">
        <div class="container">

            <h2 class="based-on">
                D·ª±a tr√™n s√°ch: <span>{{ book.title }}</span>
            </h2>

            {% if suggestions %}
                <div class="book-grid">
                    {% for item in suggestions %}
                        <div class="book-card"
                             onclick="location.href='{% url 'book:book_detail' item.pk %}'">

                            <div class="book-image">
                                {% if item.images.first %}
                                    <img src="{{ item.images.first.image }}"
                                         alt="{{ item.title }}">
                                {% else %}
                                    <img src="{% static 'images/no-book.png' %}"
                                         alt="No image">
                                {% endif %}
                            </div>

                            <div class="book-info">
                                <h3 class="book-title">{{ item.title }}</h3>

                                {% if item.author %}
                                    <p class="author">{{ item.author.name }}</p>
                                {% endif %}

                                <p class="price">
                                    {{ item.get_display_price_formatted }} ƒë
                                </p>

                                <p class="rating">
                                    ‚≠ê {{ item.average_rating|default:"Ch∆∞a c√≥" }}
                                </p>
                            </div>

                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p class="empty">Kh√¥ng t√¨m th·∫•y s√°ch t∆∞∆°ng t·ª± üìï</p>
            {% endif %}

        </div>
    </section>

</main>

<!-- FOOTER -->
{% include "base/footer.html" %}

</body>
</html>
